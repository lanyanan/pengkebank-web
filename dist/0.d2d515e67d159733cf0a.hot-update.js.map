{"version":3,"sources":["webpack:///./src/js/components/Home.js"],"names":["Home","props","state","colorArray","colorPickerShow","dispatch","visibleTodos","lightSwitchState","btn","document","getElementById","xingyue","top","lampSpace","lampTop","clientHeight","xingyueWidth","preLeft","offsetLeft","preTop","offsetTop","window","R","parseInt","x","y","console","log","e","pcolorArr","getElementsByClassName","colorArr","push","getElementsByTagName","Dom","target","index","getAttribute","DomPre","parentNode","computedStyle","defaultView","getComputedStyle","rgbaString","backgroundColor","rgbArr","substring","length","split","lightingPatternNumber","setState","G","B","i","data","r","g","b","item","color","pad0","toString","hex","replace","unshift","getCircle","preventDefault","stopPropagation","clientX","touches","clientY","distance","Math","pow","radius","sin","sqrt","rotuer","asin","PI","abs","lightness","initX","initY","lightImg","require","sceneImg","lightColor","sceneColor","rotate","rotateZ","rgba","A","lampColor","pName","height","visibility","width","display","transform","background","startChange","bind","endChange","startMove","moveIng","endMove","borderRadius","position","left","bottom","marginLeft","close","map","addBackground","selectColor","changeLightImg","changeSceneImg","cancleColorPicker","changeLampColor","select","HomeReducer"],"mappings":"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","file":"0.d2d515e67d159733cf0a.hot-update.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { changeSwitchState, changeLightness, changeColor} from '../Actions/HomeAction';\r\nimport { fetchPostsIfNeeded } from '../Actions/FetchAction';\r\nimport {ColorPicker} from './colorPicker';\r\n\r\n\r\nimport {Router, Route, Link} from 'react-router-dom'\r\n\r\nclass Home extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            colorArray:['#ff7c7c', '#ffd376', '#a0e674', '#5be6bd', '#88a1fe'],\r\n            colorPickerShow: false,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.dispatch(fetchPostsIfNeeded(changeSwitchState, '/api/1.1/news/index'))\r\n    }\r\n    close() {\r\n        if(!this.props.visibleTodos.lightSwitchState) this.props.dispatch(changeSwitchState(true))\r\n        if(this.props.visibleTodos.lightSwitchState) this.props.dispatch(changeSwitchState(false))\r\n    }\r\n    getCircle(){\r\n        let btn = document.getElementById(\"btn\");\r\n        let xingyue = document.getElementById(\"xingyue\");\r\n        let top = document.getElementById(\"lampTop\");\r\n        let lampSpace = document.getElementById(\"lampSpace\");\r\n        let lampTop = top.clientHeight+lampSpace.clientHeight;\r\n        let xingyueWidth = xingyue.clientHeight;\r\n        let preLeft = xingyue.offsetLeft;\r\n        let preTop = xingyue.offsetTop;\r\n        //圆心坐标\r\n        window.R = parseInt(xingyueWidth/2);\r\n        window.x = preLeft + parseInt(xingyueWidth/2);\r\n        window.y = preTop + lampTop + parseInt(xingyueWidth/2);\r\n\r\n        console.log(R,x,y)\r\n    }\r\n    addBackground(e) {\r\n        //document.getElementsByClassName('lamp-color').\r\n        let pcolorArr = document.getElementsByClassName('lamp-color');\r\n        let colorArr= [];\r\n        colorArr.push(pcolorArr[0].getElementsByTagName('i'));\r\n        let Dom = e.target\r\n        let index = e.target.getAttribute('data-key');\r\n        let DomPre = Dom.parentNode;\r\n        let computedStyle = document.defaultView.getComputedStyle(DomPre, null);\r\n        let rgbaString = computedStyle.backgroundColor;\r\n        let rgbArr = (rgbaString.substring(4,rgbaString.length-1)).split(\",\");\r\n        this.props.dispatch(changeColor(rgbArr[0],rgbArr[1],rgbArr[2],1,index,this.props.visibleTodos.lightingPatternNumber));\r\n    }\r\n    selectColor() {\r\n        this.setState({\r\n            colorPickerShow:true\r\n        })\r\n    }\r\n    cancleColorPicker() {\r\n        this.setState({\r\n            colorPickerShow:false\r\n        })\r\n    }\r\n    changeLightImg() {\r\n        this.props.dispatch(changeColor(this.props.visibleTodos.R, this.props.visibleTodos.G, this.props.visibleTodos.B, 1, this.props.visibleTodos.i, 0))\r\n    }\r\n    changeSceneImg() {\r\n        this.props.dispatch(changeColor(this.props.visibleTodos.R, this.props.visibleTodos.G, this.props.visibleTodos.B, 1, this.props.visibleTodos.i, 1))\r\n    }\r\n    changeLampColor(data) {\r\n        this.props.dispatch(changeColor(data.r,data.g,data.b,1,0,this.props.lightingPatternNumber));\r\n        let colorArr = this.state.colorArray;\r\n        let item = 'rgb('+data.r+\",\"+data.g+\",\"+data.b+\")\";\r\n        let color = '#' + pad0((data.r).toString(16)) + pad0((data.g).toString(16)) + pad0((data.b).toString(16));\r\n        function pad0(hex) {\r\n            return hex.replace(/^\\b(?=.$)/, '0');\r\n        }\r\n        colorArr.unshift(color)\r\n        this.setState({\r\n            colorArray:colorArr,\r\n        })\r\n    }\r\n    startMove(e) {\r\n        this.getCircle();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.clientX = e.touches[0].clientX;\r\n        this.clientY = e.touches[0].clientY;\r\n        console.log(this.clientX)\r\n    }\r\n    moveIng(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        console.log(2)\r\n        let distance = Math.pow(e.touches[0].clientX - window.x, 2) + Math.pow(e.touches[0].clientY - window.y, 2);\r\n        let radius = Math.pow(window.R, 2);\r\n        // console.log(distance,radius);\r\n        if ((distance - radius) < 6400 && (distance - radius) > -6400) {\r\n            let sin = (e.touches[0].clientY - window.y) / Math.sqrt(distance);\r\n            let rotuer = Math.asin(sin) * 180 / Math.PI;\r\n            if (e.touches[0].clientX > window.x && e.touches[0].clientY < window.y) rotuer = 180 - Math.abs(rotuer);\r\n            if (e.touches[0].clientX > window.x && e.touches[0].clientY >= window.y) rotuer = 180 + Math.abs(rotuer);\r\n            if (e.touches[0].clientX <= window.x && e.touches[0].clientY < window.y) rotuer = Math.abs(rotuer);\r\n            if (e.touches[0].clientX <= window.x && e.touches[0].clientY >= window.y) rotuer = -Math.abs(rotuer);\r\n            let lightness = parseInt((rotuer+45)/2.27) < 0 ? 0 : (parseInt((rotuer+45)/2.27) > 120 ? 120 : parseInt((rotuer+45)/2.27))\r\n\r\n            this.props.dispatch(changeLightness(lightness))\r\n        }\r\n    }\r\n    endMove(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();    \r\n    }\r\n    startChange(e) {\r\n        this.getCircle();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.initX = e.touches[0].clientX;\r\n        this.initY = e.touches[0].clientY;\r\n        console.log(this.initY)\r\n    }\r\n    endChange(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        //console.log(this.initY)\r\n        let distance = Math.pow(this.initX - window.x, 2) + Math.pow(this.initY - window.y, 2);\r\n        let radius = Math.pow(window.R, 2);\r\n        //console.log(distance,radius);\r\n        if ((distance - radius) < 2500 && (distance - radius) > -2500) {\r\n            console.log(9)\r\n            let sin = (this.initY - window.y) / Math.sqrt(distance);\r\n            let rotuer = Math.asin(sin) * 180 / Math.PI;\r\n            if (this.initX > window.x && this.initY < window.y) rotuer = 180 - Math.abs(rotuer);\r\n            if (this.initX > window.x && this.initY >= window.y) rotuer = 180 + Math.abs(rotuer);\r\n            if (this.initX <= window.x && this.initY < window.y) rotuer = Math.abs(rotuer);\r\n            if (this.initX <= window.x && this.initY >= window.y) rotuer = -Math.abs(rotuer);\r\n            let lightness = parseInt((rotuer + 45) / 2.27) < 0 ? 0 : (parseInt((rotuer + 45) / 2.27) > 120 ? 120:(parseInt((rotuer + 45) / 2.27)));\r\n            console.log(lightness)\r\n            this.props.dispatch(changeLightness(lightness))\r\n        }\r\n    }\r\n    render() {\r\n    // 通过调用 connect() 注入:\r\n        const { dispatch, visibleTodos} = this.props;\r\n        let lightImg = visibleTodos.lightingPatternNumber == 0 ? require(\"../../img/pic-09xxhdpi.png\"):require(\"../../img/pic-08xxhdpi.png\");\r\n        let sceneImg = visibleTodos.lightingPatternNumber == 0 ? require(\"../../img/pic-12xxhdpi.png\"):require(\"../../img/pic-13xxhdpi.png\");\r\n        let lightColor = visibleTodos.lightingPatternNumber == 0 ? \"#1bb1e4\":\"#919191\";\r\n        let sceneColor = visibleTodos.lightingPatternNumber == 0 ? \"#919191\":\"#1bb1e4\";\r\n        let rotate = (visibleTodos.lightness*2.27) < 0 ? 0 : (visibleTodos.lightness*2.27);\r\n        rotate = rotate > 273 ? 273 : rotate;\r\n        let rotateZ = \"rotateZ(\"+rotate+\"deg)\";\r\n        let lightness = visibleTodos.lightness < 0 ? 0 :parseInt((visibleTodos.lightness > 120 ? 120 : visibleTodos.lightness)/1.2);\r\n        console.log(rotateZ)\r\n        let rgba =visibleTodos.lightingPatternNumber == 0 ? `rgba(210,210,225,1)`:`rgba(${visibleTodos.R}, ${visibleTodos.G}, ${visibleTodos.B}, ${visibleTodos.A})`;\r\n        console.log(rgba)\r\n        let lampColor = [{pName:\"lamp-color-one\"},{pName:\"lamp-color-two\"},{pName:\"lamp-color-three\"},{pName:\"lamp-color-four\"},{pName:\"lamp-color-five\"}]\r\n    return (\r\n      <div className=\"lamp\">\r\n        <div id=\"lampTop\" className = \"lamp-btn\" style={{height:!this.props.visibleTodos.lightSwitchState?\"30%\":\"9.9166666rem\"}}>\r\n            <div className = \"home-btn-timing\">\r\n            <Link to=\"/timing\">\r\n                <img src = {require(\"../../img/pic-04xxhdpi.png\")}/>\r\n                <h3>闹铃</h3>\r\n            </Link>    \r\n            </div>\r\n            <div className = \"home-btn-title\" style={{visibility:'visible'}}>\r\n                <div className = \"timing-title\">\r\n                {'09:55'}\r\n                </div>\r\n            </div>\r\n            <div className = \"home-btn-music\">\r\n                    <img src = {require(\"../../img/pic-05xxhdpi.png\")}/>\r\n                    <h3>音乐</h3> \r\n            </div>\r\n        </div>\r\n        <div id=\"lampSpace\" style={{width:\"100%\",height:\"2.666667rem\"}}></div>\r\n        <div id=\"lampChart\" className=\"lamp-chart\">\r\n            <img className=\"lamp-pic-four\" src={require(\"../../img/pic-2.png\")}/>\r\n            <img className=\"lamp-pic-one\" style={{display:rotate<=135?\"block\":\"none\",transform:rotate<=135?rotateZ:\"rotateZ(\"+ 0+\"deg)\"}} src={require(\"../../img/pic-4.png\")}/>\r\n            <img className=\"lamp-pic-two\" style={{display:( rotate >=0 ) && ( rotate <= 225 ) ?\"block\":\"none\",transform:( rotate > 135 ) && ( rotate <= 225 )?(\"rotateZ(\"+(rotate-135)+\"deg)\"):(\"rotateZ(\"+ 0 +\"deg)\")}}  src={require(\"../../img/pic-5.png\")}/>\r\n            <img className=\"lamp-pic-three\" style={{display:( rotate >=0 ) && ( rotate <= 270 ) ?\"block\":\"none\",transform:( rotate > 225 ) && ( rotate <= 270 )?(\"rotateZ(\"+(rotate-225)+\"deg)\"):(\"rotateZ(\"+ 0 +\"deg)\")}} src={require(\"../../img/pic-6.png\")}/>\r\n            <img style={{transform:rotateZ}} className=\"lamp-pic-five\" src={require(\"../../img/pic-3.png\")}/>\r\n            <div id=\"xingyue\" className=\"lamp-xingyue\" >\r\n                <div className=\"lamp-xingyue-pic\" style={{background:rgba}}>\r\n                    <img className=\"lamp-xingyue-bg\" src={require(\"../../img/lamp.png\")}/>\r\n                    <img className=\"lamp-xingyue-opacity\" src={require(\"../../img/lamp.png\")}/>\r\n                </div>\r\n                <h3 className=\"lamp-xingyue-tips\" style={{color:\"#2ccaff\"}}>{lightness==null?\"--\":lightness}</h3>\r\n            </div>\r\n            <div className=\"lamp-pic\" style={{transform:rotateZ}} >\r\n                <div className=\"lamp-pic-logo\" onTouchStart={this.startChange.bind(this)} onTouchEnd={this.endChange.bind(this)}></div>\r\n                <span id=\"btn\" className=\"lamp-pic-btn\" onTouchStart={this.startMove.bind(this)} onTouchMove={this.moveIng.bind(this)} onTouchEnd={this.endMove.bind(this)}  style={{display:\"block\",width:\"2.5rem\",height:\"2.5rem\",borderRadius:\"2.5rem\",position:\"absolute\",left:\"50%\",bottom:\"1.6rem\",marginLeft:\"-7.0rem\"}}>    \r\n                </span>\r\n            </div>\r\n            \r\n            <span className=\"lamp-hidden\"></span>\r\n            <span className=\"close-btn\" onTouchStart={this.close.bind(this)}>\r\n            </span>\r\n            <span className=\"setting-btn\">\r\n            </span>                              \r\n        </div>\r\n        <div className=\"lamp-color\" style={{visibility:visibleTodos.lightingPatternNumber==1?\"visible\":\"hidden\"}}>\r\n            {lampColor.map((item,index)=>{\r\n                if(index==visibleTodos.i){\r\n                    return  <div key={index} className={item.pName} onTouchStart={this.addBackground.bind(this)} style={{background:(this.state.colorArray)[index]}}>\r\n                                <i data-key={index} className=\"lamp-color-selected\"></i>\r\n                            </div>\r\n                }else{\r\n                    return  <div key={index} className={item.pName} onTouchStart={this.addBackground.bind(this)} style={{background:(this.state.colorArray)[index]}}>\r\n                                <i data-key={index}></i>\r\n                            </div>\r\n                }  \r\n            })}\r\n            <span className=\"lamp-color-select\" onTouchStart={this.selectColor.bind(this)}><img src={require(\"../../img/pic-25xxhdpi.png\")}/></span>\r\n        </div>\r\n        <div className=\"lamp-scene\" >\r\n            <div className=\"lamp-scene-light lamp-scene-style\" onTouchStart={this.changeLightImg.bind(this)}>\r\n                <img src={lightImg}/>\r\n                <h3 style={{color:lightColor}}>照明</h3>    \r\n            </div>\r\n            <div className=\"lamp-scene-space\"></div>\r\n            <div className=\"lamp-scene-air lamp-scene-style\" onTouchStart={this.changeSceneImg.bind(this)}>\r\n                <img src={sceneImg}/>\r\n                <h3 style={{color:sceneColor}}>氛围</h3>        \r\n            </div>\r\n        </div>\r\n        <div className =\"home-on\"  style={{bottom:this.props.visibleTodos.lightSwitchState?\"-70%\":\"0\"}}>\r\n            <img src = {require(\"../../img/pic-03xxhdpi.png\")} onTouchStart={this.close.bind(this)}/>\r\n            <h3 onTouchStart={this.close.bind(this)}>开启智能灯</h3>      \r\n        </div>\r\n        <ColorPicker show={this.state.colorPickerShow} cancle={this.cancleColorPicker.bind(this)} close={this.changeLampColor.bind(this)}/>\r\n        <div className=\"lamp-setting\" style={{visibility:\"hidden\"}}>\r\n            <div className=\"lamp-setting-space\" ></div>\r\n            <div className=\"lamp-setting-lists\">\r\n                <Link to=\"/reseting\"><div className=\"lamp-setting-list\">设备</div></Link>\r\n                <div className=\"lamp-setting-list\">设备详情</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\n// 基于全局 state ，哪些是我们想注入的 props ?\r\n// 注意：使用 https://github.com/reactjs/reselect 效果更佳。\r\nfunction select(state) {\r\n  console.log(state)\r\n  return {\r\n    visibleTodos: state.HomeReducer\r\n  };\r\n}\r\n\r\n// 包装 component ，注入 dispatch 和 state 到其默认的 connect(select)(App) 中；\r\nexport default connect(select)(Home);\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Home.js"],"sourceRoot":""}